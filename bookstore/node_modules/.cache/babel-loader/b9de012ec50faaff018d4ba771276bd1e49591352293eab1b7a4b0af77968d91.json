{"ast":null,"code":"import { PREFIX } from \"./config\";\nexport async function getBooks() {\n  return fetch(`${PREFIX}/books`, {\n    credentials: 'include' // 确保请求中包含 Cookie\n  }).then(response => {\n    if (!response.ok) {\n      throw new Error('Network response was not ok');\n    }\n    return response.json();\n  }).catch(error => console.error('Error fetching books:', error));\n}\nexport async function getBookById(id) {\n  return fetch(`${PREFIX}/book/${id}`).then(response => response.json()).catch(error => console.error('Error fetching book:', error));\n}\nexport async function getBookByTitle(title) {\n  return fetch(`${PREFIX}/search/title/${title}`).then(response => response.json()).catch(error => console.error('Error fetching book:', error));\n}\nexport async function getBookByAuthor(author) {\n  return fetch(`${PREFIX}/search/author/${author}`).then(response => response.json()).catch(error => console.error('Error fetching book:', error));\n}\nexport async function getBookByPublisher(publisher) {\n  return fetch(`${PREFIX}/search/publisher/${publisher}`).then(response => response.json()).catch(error => console.error('Error fetching book:', error));\n}","map":{"version":3,"names":["PREFIX","getBooks","fetch","credentials","then","response","ok","Error","json","catch","error","console","getBookById","id","getBookByTitle","title","getBookByAuthor","author","getBookByPublisher","publisher"],"sources":["/Users/dingmuyun/Desktop/bookstore 前端/bookstore/src/service/book.js"],"sourcesContent":["import {PREFIX} from \"./config\";\n\nexport async function getBooks() {\n    return fetch(`${PREFIX}/books`, {\n        credentials: 'include'  // 确保请求中包含 Cookie\n    })\n        .then(response => {\n            if (!response.ok) {\n                throw new Error('Network response was not ok');\n            }\n            return response.json();\n        })\n        .catch(error => console.error('Error fetching books:', error));\n}\n\nexport async function getBookById(id) {\n    return fetch(`${PREFIX}/book/${id}`)\n        .then(response => response.json())\n        .catch(error => console.error('Error fetching book:', error));\n}\n\nexport async function getBookByTitle(title) {\n    return fetch(`${PREFIX}/search/title/${title}`)\n        .then(response => response.json())\n        .catch(error => console.error('Error fetching book:', error));\n}\n\nexport async function getBookByAuthor(author) {\n    return fetch(`${PREFIX}/search/author/${author}`)\n        .then(response => response.json())\n        .catch(error => console.error('Error fetching book:', error));\n}\n\nexport async function getBookByPublisher(publisher) {\n    return fetch(`${PREFIX}/search/publisher/${publisher}`)\n        .then(response => response.json())\n        .catch(error => console.error('Error fetching book:', error));\n}\n\n"],"mappings":"AAAA,SAAQA,MAAM,QAAO,UAAU;AAE/B,OAAO,eAAeC,QAAQA,CAAA,EAAG;EAC7B,OAAOC,KAAK,CAAE,GAAEF,MAAO,QAAO,EAAE;IAC5BG,WAAW,EAAE,SAAS,CAAE;EAC5B,CAAC,CAAC,CACGC,IAAI,CAACC,QAAQ,IAAI;IACd,IAAI,CAACA,QAAQ,CAACC,EAAE,EAAE;MACd,MAAM,IAAIC,KAAK,CAAC,6BAA6B,CAAC;IAClD;IACA,OAAOF,QAAQ,CAACG,IAAI,CAAC,CAAC;EAC1B,CAAC,CAAC,CACDC,KAAK,CAACC,KAAK,IAAIC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC,CAAC;AACtE;AAEA,OAAO,eAAeE,WAAWA,CAACC,EAAE,EAAE;EAClC,OAAOX,KAAK,CAAE,GAAEF,MAAO,SAAQa,EAAG,EAAC,CAAC,CAC/BT,IAAI,CAACC,QAAQ,IAAIA,QAAQ,CAACG,IAAI,CAAC,CAAC,CAAC,CACjCC,KAAK,CAACC,KAAK,IAAIC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC,CAAC;AACrE;AAEA,OAAO,eAAeI,cAAcA,CAACC,KAAK,EAAE;EACxC,OAAOb,KAAK,CAAE,GAAEF,MAAO,iBAAgBe,KAAM,EAAC,CAAC,CAC1CX,IAAI,CAACC,QAAQ,IAAIA,QAAQ,CAACG,IAAI,CAAC,CAAC,CAAC,CACjCC,KAAK,CAACC,KAAK,IAAIC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC,CAAC;AACrE;AAEA,OAAO,eAAeM,eAAeA,CAACC,MAAM,EAAE;EAC1C,OAAOf,KAAK,CAAE,GAAEF,MAAO,kBAAiBiB,MAAO,EAAC,CAAC,CAC5Cb,IAAI,CAACC,QAAQ,IAAIA,QAAQ,CAACG,IAAI,CAAC,CAAC,CAAC,CACjCC,KAAK,CAACC,KAAK,IAAIC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC,CAAC;AACrE;AAEA,OAAO,eAAeQ,kBAAkBA,CAACC,SAAS,EAAE;EAChD,OAAOjB,KAAK,CAAE,GAAEF,MAAO,qBAAoBmB,SAAU,EAAC,CAAC,CAClDf,IAAI,CAACC,QAAQ,IAAIA,QAAQ,CAACG,IAAI,CAAC,CAAC,CAAC,CACjCC,KAAK,CAACC,KAAK,IAAIC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC,CAAC;AACrE","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}